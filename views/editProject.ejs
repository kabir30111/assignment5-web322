<%- include("partials/header", { title: "Edit Project" }) %>

<h2>Edit Project</h2>

<form action="/solutions/editProject" method="POST">
  <input type="hidden" name="id" value="<%= project.id %>">

  <label>Title:</label>
  <input type="text" name="title" value="<%= project.title %>" required>

  <label>Feature Image URL:</label>
  <input type="url" name="feature_img_url" value="<%= project.feature_img_url %>" required>

  <label>Short Summary:</label>
  <textarea name="summary_short" required><%= project.summary_short %></textarea>

  <label>Intro:</label>
  <textarea name="intro_short" required><%= project.intro_short %></textarea>

  <label>Impact:</label>
  <textarea name="impact" required><%= project.impact %></textarea>

  <label>Original Source URL:</label>
  <input type="url" name="original_source_url" value="<%= project.original_source_url %>" required>

  <label>Sector:</label>
  <select name="sector_id" required>
    <% sectors.forEach(sector => { %>
      <option value="<%= sector.id %>" <%= project.Sector && project.Sector.id === sector.id ? "selected" : "" %>><%= sector.sector_name %></option>
    <% }); %>
  </select>

  <button type="submit">Save Changes</button>
  <a href="/solutions/deleteProject/<%= project.id %>" onclick="return confirm('Are you sure you want to delete this project?');">Delete Project</a>
</form>

<%- include("partials/footer") %>
